{"ast":null,"code":"import _toConsumableArray from\"D:/open source/amazon-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:/open source/amazon-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";export var initialState={basket:[],user:null};// Selector\nexport var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.price+amount;},0);};var reducer=function reducer(state,action){console.log(action);switch(action.type){case\"ADD_TO_BASKET\":return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case\"REMOVE_FROM_BASKET\":var index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});var newBasket=_toConsumableArray(state.basket);if(index>=0){newBasket.splice(index,1);}else{console.warn(\"Can't remove product ( id: \".concat(action.id,\") as it is not in the basket!\"));}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});case\"SET_USER\":return _objectSpread(_objectSpread({},state),{},{user:action.user});default:return state;}};export default reducer;","map":{"version":3,"sources":["D:/open source/amazon-clone/src/reducer.js"],"names":["initialState","basket","user","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","index","findIndex","basketItem","id","newBasket","splice","warn"],"mappings":"2SAAA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CACxBC,MAAM,CAAE,EADgB,CAExBC,IAAI,CAAE,IAFkB,CAArB,CAKL;AACA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACF,MAAD,QAC5BA,CAAAA,MAD4B,SAC5BA,MAD4B,iBAC5BA,MAAM,CAAEG,MAAR,CAAe,SAACC,MAAD,CAASC,IAAT,QAAkBA,CAAAA,IAAI,CAACC,KAAL,CAAaF,MAA/B,EAAf,CAAsD,CAAtD,CAD4B,EAAvB,CAGP,GAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACjCC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,OAAQA,MAAM,CAACG,IAAf,EACI,IAAK,eAAL,CACI,sCACOJ,KADP,MAEIR,MAAM,8BAAMQ,KAAK,CAACR,MAAZ,GAAoBS,MAAM,CAACJ,IAA3B,EAFV,GAIA,IAAK,oBAAL,CACC,GAAMQ,CAAAA,KAAK,CAACL,KAAK,CAACR,MAAN,CAAac,SAAb,CAAuB,SAACC,UAAD,QAAcA,CAAAA,UAAU,CAACC,EAAX,GAAiBP,MAAM,CAACO,EAAtC,EAAvB,CAAZ,CACA,GAAIC,CAAAA,SAAS,oBAAKT,KAAK,CAACR,MAAX,CAAb,CACA,GAAGa,KAAK,EAAE,CAAV,CAAY,CACVI,SAAS,CAACC,MAAV,CAAiBL,KAAjB,CAAuB,CAAvB,EACD,CAFD,IAEM,CACJH,OAAO,CAACS,IAAR,sCAA2CV,MAAM,CAACO,EAAlD,mCACD,CACD,sCACKR,KADL,MAEER,MAAM,CAAEiB,SAFV,GAIA,IAAK,UAAL,CACE,sCACKT,KADL,MAEEP,IAAI,CAAEQ,MAAM,CAACR,IAFf,GAIP,QACA,MAAOO,CAAAA,KAAP,CAxBJ,CA0BD,CA5BD,CA8BA,cAAeD,CAAAA,OAAf","sourcesContent":["export const initialState = {\r\n    basket: [],\r\n    user: null\r\n  };\r\n  \r\n  // Selector\r\n  export const getBasketTotal = (basket) => \r\n    basket?.reduce((amount, item) => item.price + amount, 0);\r\n  \r\n  const reducer = (state, action) => {\r\n    console.log(action);\r\n    switch (action.type) {\r\n        case \"ADD_TO_BASKET\":\r\n            return{\r\n                ...state,\r\n                basket: [...state.basket, action.item]\r\n            };\r\n            case \"REMOVE_FROM_BASKET\":\r\n             const index=state.basket.findIndex((basketItem)=>basketItem.id=== action.id);\r\n             let newBasket=[...state.basket];\r\n             if(index>=0){\r\n               newBasket.splice(index,1);\r\n             }else {\r\n               console.warn(`Can't remove product ( id: ${action.id}) as it is not in the basket!`)\r\n             }\r\n             return{\r\n               ...state,\r\n               basket: newBasket\r\n             }\r\n             case \"SET_USER\":\r\n               return {\r\n                 ...state,\r\n                 user: action.user\r\n               }\r\n        default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n  export default reducer;"]},"metadata":{},"sourceType":"module"}